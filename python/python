FROM python:3.7.2
LABEL maintainer="Suzanne Jin <suzanne.jin@crg.es>"


WORKDIR /usr/src/app

# Install python packages
RUN git clone https://github.com/suzannejin/Dockerfiles.git && \
    pip install --no-cache-dir -r Dockerfiles/python/requirements.txt

# Update Jupyter notebook
RUN apt-get install libzmq3-dev libcurl4-openssl-dev libssl-dev jupyter-core jupyter-client

# Install R & IRkernel 
RUN apt-get update && apt-get install r-base && \
    R -e install.packages(c('repr', 'IRdisplay', 'IRkernel'), type = 'source') && \
    R -e IRkernel::installspec()

ENTRYPOINT [ "python" ]